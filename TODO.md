## 基本功能

- [x] 创建配置文件夹和文件 并在启动时读取配置
- [x] 一组命令行命令 用于在不启动主服务和不进入配置文件夹的情况下更改配置文件
- [x] 与OpenAI API的交互 正常收发数据和解析错误信息
- [x] 读取聊天记录文件并输出聊天记录
- [ ] 退出口令
- [x] 新版本检查
- [ ] 在接近tokens上限时显示提醒

## 用户界面

- [x] 自建富文本库 封装富文本输出函数 实现彩色输出
    - [x] 用于斜杠命令的Panel格式化输出
    - [x] 在等待API响应时显示动态的等待消息
- [x] 用户输入历史记录
    - [x] 使用方向上下键检索本次启动中的历史输入
    - [x] 在主线程输入外 (如使用斜杠命令时的输入) 无法检索历史输入
- [x] 斜杠命令自动补全和多备选项时的处理逻辑
- [ ] 多行输入和多行输入启用时的界面优化
    - [ ] 在单行模式下使用组合键换行
- [ ] 对ChatGPT回复的Markdown文本进行渲染
    - [ ] 实现Raw模式和渲染模式的切换
- [ ] 流式输出
    - [ ] 流式输出时仍然正确解析Markdown文本
    - [ ] 流式输出时的tokens统计

## 斜杠命令 & 附属功能

- [ ] `/raw`: Raw模式/渲染模式切换
- [ ] `/multi`: 多行模式/单行模式切换
- [ ] `/stream`: 启用/停用流式输出
- [x] `/tokens`: 显示当前聊天的tokens数和已经使用的总tokens数
- [x] `/usage`: 显示当前API Key的账户使用信息 (订阅类型 账户花费上限 本月花费和历史总花费)
- [x] `/model`: 切换使用的AI模型
- [ ] `/last`: 输出上一条回复
- [ ] `/copy`: 复制上一条回复的全文 (或其中的代码)
- [ ] `/delete`: 删除目前聊天记录的第一条会话 (或彻底清空聊天记录)
- [x] `/save`: 保存目前的聊天记录
- [x] `/system`: 更改系统prompt
- [ ] `/title`: 为聊天生成标题
- [x] `/timeout`: 调整超时时间
- [ ] `/undo`: 删除上一条会话
- [x] `/version`: 显示cGPTerm的本地和远程最新版本
- [x] `/help`: 显示斜杠命令的帮助信息
- [x] `/exit`: 退出程序

## 键位绑定

- [x] `Tab`: 用于补全斜杠命令
- [ ] `Ctrl-C`: 终止等待
- [ ] `Ctrl-D`: 退出程序
- [x] `Ctrl-L`: 清屏
- [x] `Ctrl-U`: 删除目前光标位置到本行最左边的内容
- [x] `Ctrl-K`: 删除目前光标位置到本行最右边的内容
- [x] `Ctrl-W`: 删除上一个单词

## 可能的新功能

- [ ] 提供更改endpoint的渠道 用于配置代理
- [ ] 在输入无效的斜杠命令时提示用户最有可能想要输入的命令
- [ ] 可选择是否在达到tokens上限后自动删除聊天记录中的第一条信息